# ConsCoder - å¸¸é‡ä»£ç ç”Ÿæˆå™¨

ConsCoder æ˜¯ä¸€ä¸ªè·¨è¯­è¨€çš„å¸¸é‡ä»£ç ç”Ÿæˆå·¥å…·ï¼Œå¯ä»¥ä» YAML é…ç½®æ–‡ä»¶æ‰¹é‡ç”Ÿæˆå¤šç§ç¼–ç¨‹è¯­è¨€çš„å¸¸é‡å®šä¹‰ä»£ç ã€‚

## ç‰¹æ€§

- ğŸ“ **YAML é…ç½®é©±åŠ¨**ï¼šä½¿ç”¨ç®€å•çš„ YAML æ ¼å¼å®šä¹‰å¸¸é‡
- ğŸš€ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒ Pythonã€Goã€Javaã€Swiftã€Kotlinã€TypeScriptã€JavaScript
- ğŸ¯ **åŒæ¨¡å¼ç”Ÿæˆ**ï¼š
  - **class æ¨¡å¼**ï¼šç”Ÿæˆé¢å‘å¯¹è±¡çš„ç±»ç»“æ„ï¼Œæ”¯æŒåå‘æŸ¥æ‰¾
  - **const æ¨¡å¼**ï¼šç”Ÿæˆç®€å•çš„å¸¸é‡å®šä¹‰
- ğŸ“¦ **æ‰¹é‡å¤„ç†**ï¼šè‡ªåŠ¨æ‰«æç›®å½•ä¸‹æ‰€æœ‰ YAML æ–‡ä»¶å¹¶æ‰¹é‡ç”Ÿæˆ
- ğŸ”§ **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰åŒ…åã€å¤´éƒ¨æ³¨é‡Šç­‰

## å®‰è£…

### ä»æºç æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/cons-coder.git
cd cons-coder

# å®‰è£…ä¾èµ–
go mod download

# æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶
./build.sh

# å®‰è£…åˆ°ç³»ç»Ÿè·¯å¾„ï¼ˆå¯é€‰ï¼‰
sudo ./install.sh
```

### ä½¿ç”¨ Go Install

```bash
go install github.com/yourusername/cons-coder@latest
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œå‚æ•°

```bash
cons-coder --dir <YAMLç›®å½•> --output <è¾“å‡ºç›®å½•> --lang <è¯­è¨€> [é€‰é¡¹]
```

#### å¿…å¡«å‚æ•°

- `-d, --dir`ï¼šYAML é…ç½®æ–‡ä»¶ç›®å½•
- `-o, --output`ï¼šç”Ÿæˆä»£ç çš„è¾“å‡ºç›®å½•
- `-l, --lang`ï¼šç›®æ ‡ç¼–ç¨‹è¯­è¨€ (python/go/java/swift/kotlin/typescript/javascript)

#### å¯é€‰å‚æ•°

- `-m, --mode`ï¼šç”Ÿæˆæ¨¡å¼ (class/const)ï¼Œé»˜è®¤ä¸º class
- `-p, --package`ï¼šåŒ…åï¼ˆGo/Java/Kotlin è¯­è¨€ä½¿ç”¨ï¼‰
- `--header`ï¼šè‡ªå®šä¹‰å¤´éƒ¨æ³¨é‡Šï¼Œé»˜è®¤ä¸º "Generated by ConsCoder CLI tool. DO NOT EDIT."
- `-h, --help`ï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `-v, --version`ï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

### ä½¿ç”¨ç¤ºä¾‹

#### åŸºç¡€ç”¨æ³•

```bash
# ç”Ÿæˆ Python ç±»æ¨¡å¼ä»£ç 
cons-coder --dir ./data --output ./output/python --lang python

# ç”Ÿæˆ Go å¸¸é‡æ¨¡å¼ä»£ç 
cons-coder --dir ./data --output ./output/go --lang go --mode const --package constants

# ç”Ÿæˆ Java ä»£ç å¹¶æŒ‡å®šåŒ…å
cons-coder --dir ./data --output ./output/java --lang java --package com.example.constants

# ç”Ÿæˆ TypeScript ä»£ç 
cons-coder --dir ./data --output ./output/ts --lang typescript --mode class
```

#### æ‰¹é‡ç”Ÿæˆå¤šç§è¯­è¨€

```bash
# ä½¿ç”¨æä¾›çš„æµ‹è¯•è„šæœ¬
./test.sh
```

## YAML é…ç½®æ ¼å¼

YAML æ–‡ä»¶ä½¿ç”¨ç®€å•çš„é”®å€¼å¯¹æ ¼å¼å®šä¹‰å¸¸é‡ï¼š

```yaml
# æ–‡ä»¶: data/user_role.yaml
# ç”¨æˆ·è§’è‰²
normal: 1      # æ™®é€šç”¨æˆ·
admin: 2       # ç®¡ç†å‘˜
super_admin: 3 # è¶…çº§ç®¡ç†å‘˜
guest: 0       # è®¿å®¢
```

**æ ¼å¼è¯´æ˜ï¼š**
- ç¬¬ä¸€è¡Œæ³¨é‡Šï¼ˆä»¥ `#` å¼€å¤´ï¼‰ä½œä¸ºå¸¸é‡ç»„çš„æè¿°
- æ¯ä¸ªé”®å€¼å¯¹å®šä¹‰ä¸€ä¸ªå¸¸é‡
- é”®ä¸ºå¸¸é‡åç§°ï¼ˆsnake_caseï¼‰
- å€¼ä¸ºå¸¸é‡çš„æ•°å€¼
- è¡Œå†…æ³¨é‡Šï¼ˆ`#` åçš„å†…å®¹ï¼‰ä½œä¸ºå¸¸é‡çš„æè¿°

## ç”Ÿæˆæ¨¡å¼å¯¹æ¯”

### Class æ¨¡å¼

ç”Ÿæˆé¢å‘å¯¹è±¡çš„ç±»ç»“æ„ï¼Œæä¾›å€¼åˆ°åç§°çš„åå‘æŸ¥æ‰¾åŠŸèƒ½ï¼š

**Python ç¤ºä¾‹ï¼š**
```python
class UserRole:
    """ç”¨æˆ·è§’è‰²"""
    
    GUEST = 0        # è®¿å®¢
    NORMAL = 1       # æ™®é€šç”¨æˆ·
    ADMIN = 2        # ç®¡ç†å‘˜
    SUPER_ADMIN = 3  # è¶…çº§ç®¡ç†å‘˜
    
    @classmethod
    def get_name(cls, value):
        """æ ¹æ®å€¼è·å–å¸¸é‡åç§°"""
        for name, val in cls.__dict__.items():
            if not name.startswith('_') and not callable(val) and val == value:
                return name
        return None
```

### Const æ¨¡å¼

ç”Ÿæˆç®€å•çš„å¸¸é‡å®šä¹‰ï¼š

**Python ç¤ºä¾‹ï¼š**
```python
# user_role ç”¨æˆ·è§’è‰²
USER_ROLE_GUEST = 0        # è®¿å®¢
USER_ROLE_NORMAL = 1       # æ™®é€šç”¨æˆ·
USER_ROLE_ADMIN = 2        # ç®¡ç†å‘˜
USER_ROLE_SUPER_ADMIN = 3  # è¶…çº§ç®¡ç†å‘˜
```

## æ”¯æŒçš„è¯­è¨€ç‰¹æ€§

| è¯­è¨€ | Class æ¨¡å¼ | Const æ¨¡å¼ | åŒ…åæ”¯æŒ | ç´¢å¼•æ–‡ä»¶ |
|------|-----------|-----------|---------|----------|
| Python | âœ… | âœ… | âŒ | âœ… |
| Go | âœ… | âœ… | âœ… | âŒ |
| Java | âœ… | âœ… | âœ… | âŒ |
| Swift | âœ… | âœ… | âŒ | âŒ |
| Kotlin | âœ… | âœ… | âœ… | âŒ |
| TypeScript | âœ… | âœ… | âŒ | âœ… |
| JavaScript | âœ… | âœ… | âŒ | âœ… |

## é¡¹ç›®ç»“æ„

```
cons-coder/
â”œâ”€â”€ main.go           # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ parser/           # YAML è§£æå™¨
â”‚   â””â”€â”€ parser.go
â”œâ”€â”€ generator/        # ä»£ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ base.go      # åŸºç¡€ç”Ÿæˆå™¨æ¥å£
â”‚   â”œâ”€â”€ python.go    # Python ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ go.go        # Go ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ java.go      # Java ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ swift.go     # Swift ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ kotlin.go    # Kotlin ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ typescript.go # TypeScript ç”Ÿæˆå™¨
â”‚   â””â”€â”€ javascript.go # JavaScript ç”Ÿæˆå™¨
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ utils.go
â”œâ”€â”€ data/             # ç¤ºä¾‹ YAML é…ç½®æ–‡ä»¶
â”œâ”€â”€ output/           # ç”Ÿæˆçš„ä»£ç è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ class/       # Class æ¨¡å¼è¾“å‡º
â”‚   â””â”€â”€ const/       # Const æ¨¡å¼è¾“å‡º
â”œâ”€â”€ build.sh          # æ„å»ºè„šæœ¬
â”œâ”€â”€ install.sh        # å®‰è£…è„šæœ¬
â””â”€â”€ test.sh           # æµ‹è¯•è„šæœ¬
```

## é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰å¤´éƒ¨æ³¨é‡Š

```bash
cons-coder --dir ./data --output ./output --lang python \
  --header "Â© 2025 MyCompany. All rights reserved."
```

### é›†æˆåˆ° CI/CD

```yaml
# .github/workflows/generate-constants.yml
name: Generate Constants

on:
  push:
    paths:
      - 'data/**/*.yaml'

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Setup Go
        uses: actions/setup-go@v2
        with:
          go-version: 1.19
      
      - name: Build ConsCoder
        run: go build -o cons-coder main.go
      
      - name: Generate Constants
        run: |
          ./cons-coder --dir ./data --output ./generated/python --lang python
          ./cons-coder --dir ./data --output ./generated/go --lang go --package constants
      
      - name: Commit Generated Code
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add generated/
          git commit -m "Update generated constants"
          git push
```

## æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬æ§åˆ¶**ï¼šå°† YAML é…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œç”Ÿæˆçš„ä»£ç å¯é€‰æ‹©æ€§çº³å…¥
2. **å‘½åè§„èŒƒ**ï¼šYAML æ–‡ä»¶åä½¿ç”¨ snake_caseï¼Œä¸ç”Ÿæˆçš„ç±»å/å¸¸é‡å‰ç¼€å¯¹åº”
3. **æ³¨é‡Šè§„èŒƒ**ï¼šå……åˆ†åˆ©ç”¨æ³¨é‡ŠåŠŸèƒ½ï¼Œæä¾›æ¸…æ™°çš„å¸¸é‡æè¿°
4. **ç›®å½•ç»„ç»‡**ï¼šæŒ‰æ¨¡å—/åŠŸèƒ½ç»„ç»‡ YAML æ–‡ä»¶ï¼Œä¾¿äºç®¡ç†
5. **è‡ªåŠ¨åŒ–ç”Ÿæˆ**ï¼šé›†æˆåˆ°æ„å»ºæµç¨‹ï¼Œç¡®ä¿å¸¸é‡å®šä¹‰çš„ä¸€è‡´æ€§

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘ç¯å¢ƒè¦æ±‚

- Go 1.19+
- Makeï¼ˆå¯é€‰ï¼‰

### æ·»åŠ æ–°è¯­è¨€æ”¯æŒ

1. åœ¨ `generator/` ç›®å½•åˆ›å»ºæ–°çš„ç”Ÿæˆå™¨æ–‡ä»¶
2. å®ç° `Generator` æ¥å£
3. åœ¨ `main.go` ä¸­æ³¨å†Œæ–°çš„ç”Ÿæˆå™¨
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

## è®¸å¯è¯

MIT License

## ä½œè€…

Your Name <your.email@example.com>

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-07)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒ 7 ç§ç¼–ç¨‹è¯­è¨€
- å®ç° class å’Œ const ä¸¤ç§ç”Ÿæˆæ¨¡å¼
- æ”¯æŒæ‰¹é‡å¤„ç†å’Œè‡ªå®šä¹‰é…ç½®